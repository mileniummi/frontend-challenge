{"version":3,"sources":["images/error-cat.jpg","components/header/Header.tsx","pages/Layout.tsx","context/favouriteCatsContext.tsx","components/cats/CatImage.tsx","components/cats/Cat.tsx","components/loader/Loader.tsx","services/CatService.ts","hooks/useCatSearch.tsx","components/errors/SomethingWentWrong.tsx","pages/AllCats.tsx","pages/FavouriteCats.tsx","App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","Header","react_default","a","createElement","className","react_router_dom","to","Layout","header_Header","react_router","FavouriteCatsCtx","React","FavouriteCatsProvider","_ref","children","savedState","localStorage","getItem","initialState","JSON","parse","_useState","useState","_useState2","Object","slicedToArray","favouriteCats","setFavouriteCats","useEffect","setItem","stringify","react","Provider","value","addToFavourite","cat","prevState","concat","toConsumableArray","removeFromFavourite","filter","existingCat","id","CatImage","memo","src","alt","Cat","imageUrl","imageId","isFavouriteCat","isFavourite","setIsFavourite","_ref2","useContext","cats_CatImage","onClick","url","width","height","viewBox","xmlns","d","fill","Fragment","Loader","CircularProgress","CatService","apiPath","arguments","length","undefined","process","apiKey","classCallCheck","this","limit","page","axios","get","params","response","data","image_id","post","headers","Content-Type","x-api-key","map","image","UseCatSearch","pageNumber","isLoading","setIsLoading","_useState3","_useState4","cats","setCats","_useState5","_useState6","error","setError","catService","asyncToGenerator","useCatSearch_regeneratorRuntime","mark","_callee","newCats","wrap","_context","prev","next","fetch","sent","Error","prevCats","stop","apply","fetchCats","SomethingWentWrong","text","require","AllCats","setPage","_useCatSearch","useCatSearch","observer","useRef","lastCatElement","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","catObjects","index","ref","key","nanoid","cats_Cat","loader_Loader","errors_SomethingWentWrong","FavouriteCats","App","favouriteCatsContext","path","element","pages_Layout","pages_AllCats","pages_FavouriteCats","ReactDOM","createRoot","document","getElementById","render","StrictMode","App_App"],"mappings":"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","file":"static/js/main.b7f33429.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error-cat.5e0f3f3b.jpg\";","import React from \"react\";\nimport \"./header.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header: React.FC = () => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__wrapper\">\n        <NavLink to=\"/\" className=\"header__item\">\n          Все котики\n        </NavLink>\n        <NavLink to=\"/favourites\" className=\"header__item\">\n          Любимые котики\n        </NavLink>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Header from \"../components/header/Header\";\nimport { Outlet } from \"react-router-dom\";\n\nconst Layout = () => {\n  return (\n    <div>\n      <Header />\n      <Outlet />\n    </div>\n  );\n};\n\nexport default Layout;\n","import { ICat } from \"../types/types\";\nimport * as React from \"react\";\nimport { useEffect, useState } from \"react\";\n\nexport interface FavouriteContextInterface {\n  favouriteCats: ICat[];\n  addToFavourite: (cat: ICat) => void;\n  removeFromFavourite: (cat: ICat) => void;\n}\ninterface FavouritesProps {\n  children?: React.ReactNode;\n}\n\nexport const FavouriteCatsCtx = React.createContext<FavouriteContextInterface | null>(null);\n\nconst FavouriteCatsProvider: React.FC<FavouritesProps> = ({ children }) => {\n  const savedState = localStorage.getItem(\"favouriteCats\");\n  const initialState = savedState ? JSON.parse(savedState) : [];\n\n  const [favouriteCats, setFavouriteCats] = useState<ICat[]>(initialState);\n\n  const addToFavourite = (cat: ICat) => {\n    setFavouriteCats((prevState) => [...prevState, cat]);\n  };\n\n  const removeFromFavourite = (cat: ICat) => {\n    setFavouriteCats((prevState) => prevState.filter((existingCat) => existingCat.id !== cat.id));\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"favouriteCats\", JSON.stringify(favouriteCats));\n  }, [favouriteCats]);\n\n  return (\n    <FavouriteCatsCtx.Provider value={{ favouriteCats, addToFavourite, removeFromFavourite }}>\n      {children}\n    </FavouriteCatsCtx.Provider>\n  );\n};\n\nexport default FavouriteCatsProvider;\n","import React from \"react\";\n\ninterface CatImageProps {\n  src: string;\n}\n\nconst CatImage: React.FC<CatImageProps> = React.memo(function Image({ src }) {\n  return <img src={src} className=\"cat__image\" alt=\"cat\" />;\n});\n\nexport default CatImage;\n","import React, { useContext, useState } from \"react\";\nimport \"./cats.css\";\nimport { FavouriteContextInterface, FavouriteCatsCtx } from \"../../context/favouriteCatsContext\";\nimport CatImage from \"./CatImage\";\ninterface CatProps {\n  imageId: string;\n  imageUrl: string;\n  isFavouriteCat: boolean;\n}\n\nconst Cat: React.FC<CatProps> = ({ imageUrl, imageId, isFavouriteCat }) => {\n  const [isFavourite, setIsFavourite] = useState<boolean>(isFavouriteCat);\n  const { addToFavourite, removeFromFavourite } = useContext(FavouriteCatsCtx) as FavouriteContextInterface;\n\n  const handleRemoveFromFavourite = () => {\n    setIsFavourite(false);\n    removeFromFavourite({ id: imageId, url: imageUrl });\n  };\n\n  const handleAddToFavourite = () => {\n    setIsFavourite(true);\n    addToFavourite({ id: imageId, url: imageUrl });\n  };\n\n  return (\n    <div className=\"cat\">\n      <div className=\"cat__wrapper\">\n        <CatImage src={imageUrl} />\n        {isFavourite ? (\n          <svg\n            onClick={handleRemoveFromFavourite}\n            className=\"cat__heart\"\n            width=\"40\"\n            height=\"37\"\n            viewBox=\"0 0 40 37\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\n              fill=\"var(--bright-orange)\"\n            />\n          </svg>\n        ) : (\n          <>\n            <svg className=\"cat__heart\" width=\"40\" height=\"37\" viewBox=\"0 0 40 37\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M29 0C25.52 0 22.18 1.62 20 4.18C17.82 1.62 14.48 0 11 0C4.84 0 0 4.84 0 11C0 18.56 6.8 24.72 17.1 34.08L20 36.7L22.9 34.06C33.2 24.72 40 18.56 40 11C40 4.84 35.16 0 29 0ZM20.2 31.1L20 31.3L19.8 31.1C10.28 22.48 4 16.78 4 11C4 7 7 4 11 4C14.08 4 17.08 5.98 18.14 8.72H21.88C22.92 5.98 25.92 4 29 4C33 4 36 7 36 11C36 16.78 29.72 22.48 20.2 31.1Z\"\n                fill=\"var(--orange)\"\n              />\n            </svg>\n            <svg\n              className=\"cat__heart--on-hover\"\n              width=\"40\"\n              height=\"37\"\n              viewBox=\"0 0 40 37\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              onClick={handleAddToFavourite}\n            >\n              <path\n                d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\n                fill=\"var(--orange)\"\n              />\n            </svg>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cat;\n","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport \"./loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"loader\">\n      <CircularProgress />\n      <div className=\"loader__text\">... загружаем котиков ...</div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import axios from \"axios\";\nimport { ICat } from \"../types/types\";\n\nexport default class CatService {\n  constructor(private apiPath = process.env.REACT_APP_API_PATH, private apiKey = process.env.REACT_APP_API_KEY) {}\n\n  async fetch(limit: number, page: number): Promise<Promise<ICat[]> | Error> {\n    const response = await axios.get(`${this.apiPath}/v1/images/search`, { params: { limit, page } });\n    return response.data;\n  }\n\n  // that's for future when favourite cats will not be saved on client\n  async addToFavourite(image_id: string): Promise<void> {\n    await axios.post(\n      `${this.apiPath}/v1/favourites`,\n      { image_id },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": this.apiKey ? this.apiKey : \"\",\n        },\n      }\n    );\n  }\n\n  async getFavourites(): Promise<ICat[]> {\n    const response = await axios.get(`${this.apiPath}/v1/favourites`, {\n      headers: { \"x-api-key\": this.apiKey ? this.apiKey : \"\" },\n    });\n    return response.data.map((cat: { image: any }) => cat.image);\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport CatService from \"../services/CatService\";\nimport { ICat } from \"../types/types\";\n\nfunction UseCatSearch(pageNumber: number) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [cats, setCats] = useState<ICat[]>([]);\n  const [error, setError] = useState<string | boolean>(false);\n  const catService = new CatService();\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchCats = async () => {\n      const newCats = await catService.fetch(10, pageNumber);\n      if (!(newCats instanceof Error)) {\n        setCats((prevCats) => [...prevCats, ...newCats]);\n        setIsLoading(false);\n      } else {\n        setError(\"Что то пошло не так при загрузке котиков\");\n      }\n    };\n    fetchCats();\n  }, [pageNumber]);\n\n  return { isLoading, cats, error };\n}\n\nexport default UseCatSearch;\n","import React from \"react\";\n\ninterface ErrorProps {\n  text: string | boolean;\n}\n\nconst SomethingWentWrong: React.FC<ErrorProps> = ({ text }) => {\n  return (\n    <div>\n      <img src={require(\"../../images/error-cat.jpg\")} alt=\"error\" className=\"error__image\" />\n      <div className=\"error__text\">{text}</div>\n    </div>\n  );\n};\n\nexport default SomethingWentWrong;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport Cat from \"../components/cats/Cat\";\nimport Loader from \"../components/loader/Loader\";\nimport useCatSearch from \"../hooks/useCatSearch\";\nimport { nanoid } from \"nanoid\";\nimport SomethingWentWrong from \"../components/errors/SomethingWentWrong\";\n\nconst AllCats: React.FC = () => {\n  const [page, setPage] = useState<number>(1);\n  const { cats, isLoading, error } = useCatSearch(page);\n\n  const observer = useRef<IntersectionObserver>();\n  const lastCatElement = useCallback(\n    (node: HTMLDivElement) => {\n      if (isLoading) return;\n      if (observer.current) observer.current.disconnect();\n      observer.current = new IntersectionObserver((entries) => {\n        if (entries[0].isIntersecting) {\n          setPage((prevState) => prevState + 1);\n        }\n      });\n      if (node) observer.current.observe(node);\n    },\n    [isLoading]\n  );\n\n  const catObjects = cats.map((cat, index) => {\n    if (cats.length === index + 1) {\n      return (\n        <div ref={lastCatElement} key={nanoid()}>\n          <Cat imageUrl={cat.url} imageId={cat.id} isFavouriteCat={false} />\n        </div>\n      );\n    } else {\n      return <Cat key={nanoid()} imageUrl={cat.url} imageId={cat.id} isFavouriteCat={false} />;\n    }\n  });\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"cats\">{catObjects}</div>\n      {isLoading && <Loader />}\n      {error && <SomethingWentWrong text={error} />}\n    </div>\n  );\n};\n\nexport default AllCats;\n","import React, { useContext } from \"react\";\nimport Cat from \"../components/cats/Cat\";\nimport { FavouriteContextInterface, FavouriteCatsCtx } from \"../context/favouriteCatsContext\";\nimport { nanoid } from \"nanoid\";\n\nconst FavouriteCats: React.FC = () => {\n  const { favouriteCats } = useContext(FavouriteCatsCtx) as FavouriteContextInterface;\n\n  const catObjects = favouriteCats.map((cat) => (\n    <Cat key={nanoid()} imageUrl={cat.url} imageId={cat.id} isFavouriteCat={true} />\n  ));\n\n  return (\n    <div className=\"wrapper\">\n      {catObjects.length ? (\n        <div className=\"cats\">{catObjects}</div>\n      ) : (\n        <div className=\"nothing-to-show\">\n          <img src=\"https://cdn2.thecatapi.com/images/1hd.gif\" alt=\"cat-nothing-to-show\" />У вас пока нет любимых\n          котиков ...(\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FavouriteCats;\n","import React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Layout from \"./pages/Layout\";\nimport AllCats from \"./pages/AllCats\";\nimport FavouriteCats from \"./pages/FavouriteCats\";\nimport FavouriteCatsProvider from \"./context/favouriteCatsContext\";\n\nexport const App: React.FC = () => {\n  return (\n    <FavouriteCatsProvider>\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route index element={<AllCats />} />\n          <Route path=\"/favourites\" element={<FavouriteCats />} />\n        </Route>\n      </Routes>\n    </FavouriteCatsProvider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { App } from \"./App\";\nimport \"./index.css\";\nimport { HashRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}