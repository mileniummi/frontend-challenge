{"version":3,"sources":["components/header/Header.tsx","pages/Layout.tsx","components/cats/Cat.tsx","services/CatService.ts","components/loader/Loader.tsx","pages/AllCats.tsx","pages/FavouriteCats.tsx","App.tsx","index.tsx"],"names":["Header","react_default","a","createElement","className","react_router_dom","to","Layout","header_Header","react_router","Cat","_ref","imageUrl","imageId","catService","isFavouriteCat","_useState","useState","_useState2","Object","slicedToArray","isFavourite","setIsFavourite","onMouseOver","event","stopPropagation","src","alt","width","height","viewBox","xmlns","d","fill","Fragment","onClick","e","addToFavourite","CatService","apiPath","arguments","length","undefined","process","apiKey","classCallCheck","this","count","newCats","i","axios","get","concat","response","push","data","image_id","post","headers","Content-Type","x-api-key","map","cat","image","Loader","CircularProgress","AllCats","cats","setCats","_useState3","_useState4","showLoader","setShowLoader","catsService","useEffect","asyncToGenerator","AllCats_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetch","sent","prevState","toConsumableArray","stop","apply","fetchCats","catObjects","cats_Cat","key","id","url","loader_Loader","FavouriteCats","_fetchCats","FavouriteCats_regeneratorRuntime","getFavourites","App","path","element","pages_Layout","index","pages_AllCats","pages_FavouriteCats","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.6de1ba6a.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./header.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header: React.FC = () => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__wrapper\">\n        <NavLink to=\"/\" className=\"header__item\">\n          Все котики\n        </NavLink>\n        <NavLink to=\"/favourites\" className=\"header__item\">\n          Любимые котики\n        </NavLink>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Header from \"../components/header/Header\";\nimport { Outlet } from \"react-router-dom\";\n\nconst Layout = () => {\n  return (\n    <div>\n      <Header />\n      <Outlet />\n    </div>\n  );\n};\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport \"./cats.css\";\nimport CatService from \"../../services/CatService\";\ninterface CatProps {\n  imageId: string;\n  imageUrl: string;\n  catService: CatService;\n  isFavouriteCat: boolean;\n}\n\nconst Cat: React.FC<CatProps> = ({ imageUrl, imageId, catService, isFavouriteCat }) => {\n  const [isFavourite, setIsFavourite] = useState<boolean>(isFavouriteCat);\n\n  return (\n    <div className=\"cat\" onMouseOver={(event) => event.stopPropagation()}>\n      <div className=\"cat__wrapper\">\n        <img className=\"cat__image\" src={imageUrl} alt=\"cat\" />\n        {isFavourite ? (\n          <svg className=\"cat__heart\" width=\"40\" height=\"37\" viewBox=\"0 0 40 37\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\n              fill=\"var(--bright-orange)\"\n            />\n          </svg>\n        ) : (\n          <>\n            <svg className=\"cat__heart\" width=\"40\" height=\"37\" viewBox=\"0 0 40 37\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M29 0C25.52 0 22.18 1.62 20 4.18C17.82 1.62 14.48 0 11 0C4.84 0 0 4.84 0 11C0 18.56 6.8 24.72 17.1 34.08L20 36.7L22.9 34.06C33.2 24.72 40 18.56 40 11C40 4.84 35.16 0 29 0ZM20.2 31.1L20 31.3L19.8 31.1C10.28 22.48 4 16.78 4 11C4 7 7 4 11 4C14.08 4 17.08 5.98 18.14 8.72H21.88C22.92 5.98 25.92 4 29 4C33 4 36 7 36 11C36 16.78 29.72 22.48 20.2 31.1Z\"\n                fill=\"var(--orange)\"\n              />\n            </svg>\n            <svg\n              className=\"cat__heart--on-hover\"\n              width=\"40\"\n              height=\"37\"\n              viewBox=\"0 0 40 37\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              onClick={(e) => {\n                setIsFavourite(true);\n                catService.addToFavourite(imageId);\n              }}\n            >\n              <path\n                d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\n                fill=\"var(--orange)\"\n              />\n            </svg>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Cat;\n","import axios from \"axios\";\nimport { ICat } from \"../types/types\";\n\nexport default class CatService {\n  constructor(private apiPath = process.env.REACT_APP_API_PATH, private apiKey = process.env.REACT_APP_API_KEY) {}\n\n  async fetch(count: number): Promise<ICat[]> {\n    const newCats: ICat[] = [];\n    for (let i = 0; i < count; i++) {\n      const response = await axios.get(`${this.apiPath}/v1/images/search`);\n      newCats.push(response.data[0]);\n    }\n    return newCats;\n  }\n\n  async addToFavourite(image_id: string): Promise<void> {\n    await axios.post(\n      `${this.apiPath}/v1/favourites`,\n      { image_id },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": this.apiKey ? this.apiKey : \"\",\n        },\n      }\n    );\n  }\n\n  async getFavourites(): Promise<ICat[]> {\n    const response = await axios.get(`${this.apiPath}/v1/favourites`, {\n      headers: { \"x-api-key\": this.apiKey ? this.apiKey : \"\" },\n    });\n    return response.data.map((cat: { image: any }) => cat.image);\n  }\n}\n","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport \"./loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"loader\">\n      <CircularProgress />\n      <div className=\"loader__text\">... загружаем котиков ...</div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useEffect, useState } from \"react\";\nimport Cat from \"../components/cats/Cat\";\nimport { ICat } from \"../types/types\";\nimport CatService from \"../services/CatService\";\nimport Loader from \"../components/loader/Loader\";\n\nconst AllCats: React.FC = () => {\n  const [cats, setCats] = useState<ICat[]>([]);\n  const [showLoader, setShowLoader] = useState<boolean>(false);\n  const catsService = new CatService();\n\n  useEffect(() => {\n    setShowLoader(true);\n    const fetchCats = async () => {\n      const newCats = await catsService.fetch(10);\n      setCats((prevState) => [...prevState, ...newCats]);\n      setShowLoader(false);\n    };\n    fetchCats();\n  }, []);\n\n  const catObjects = cats.map((cat) => (\n    <Cat key={cat.id} imageUrl={cat.url} catService={catsService} imageId={cat.id} isFavouriteCat={false} />\n  ));\n\n  return <div className=\"wrapper\">{showLoader ? <Loader /> : <div className=\"cats\">{catObjects}</div>}</div>;\n};\n\nexport default AllCats;\n","import React, { useEffect, useState } from \"react\";\nimport { ICat } from \"../types/types\";\nimport CatService from \"../services/CatService\";\nimport Cat from \"../components/cats/Cat\";\nimport Loader from \"../components/loader/Loader\";\n\nconst FavouriteCats: React.FC = () => {\n  const catService = new CatService();\n  const [cats, setCats] = useState<ICat[]>([]);\n  const [showLoader, setShowLoader] = useState<boolean>(false);\n\n  useEffect(() => {\n    async function fetchCats() {\n      setShowLoader(true);\n      const cats: ICat[] = await catService.getFavourites();\n      setCats(cats);\n      setShowLoader(false);\n    }\n    fetchCats();\n  }, []);\n\n  const catObjects = cats.map((cat) => (\n    <Cat key={cat.id} imageUrl={cat.url} catService={catService} imageId={cat.id} isFavouriteCat={true} />\n  ));\n\n  return (\n    <div className=\"wrapper\">\n      {showLoader ? (\n        <Loader />\n      ) : catObjects.length ? (\n        <div className=\"cats\">{catObjects}</div>\n      ) : (\n        <div className=\"nothing-to-show\">\n          <img src=\"https://cdn2.thecatapi.com/images/1hd.gif\" alt=\"cat-nothing-to-show\" />У вас пока нет любимых\n          котиков ...(\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FavouriteCats;\n","import React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Layout from \"./pages/Layout\";\nimport AllCats from \"./pages/AllCats\";\nimport FavouriteCats from \"./pages/FavouriteCats\";\n\nconst App: React.FC = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout />}>\n        <Route index element={<AllCats />} />\n        <Route path=\"/favourites\" element={<FavouriteCats />} />\n      </Route>\n    </Routes>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { HashRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}